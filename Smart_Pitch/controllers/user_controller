from flask import Blueprint, render_template, session, redirect, url_for
from Smart_Pitch.models.pitch import Pitch

user_bp = Blueprint(
    "user",
    __name__,
    url_prefix="/user"
)

@user_bp.route("/dashboard")
def dashboard():
    if session.get("role") != "user":
        return redirect(url_for("auth.login"))

    pitches = Pitch.get_all()
    return render_template("user/dashboard.html", pitches=pitches)
